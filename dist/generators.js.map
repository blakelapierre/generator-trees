{"version":3,"file":"src/generators.js","sources":["src/generators.js","@traceur/generated/TemplateParser/2","@traceur/generated/TemplateParser/0"],"names":[],"mappings":"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","sourceRoot":"/home/blake/development/generator-trees","sourcesContent":["import '/home/blake/development/generator-trees/node_modules/grunt-traceur/node_modules/traceur/bin/traceur-runtime.js';module.exports = {\n  transform,\n  map: transform,\n  each: each,\n  toGenerator,\n  toArray,\n  loop,\n  interleave,\n  repeat,\n  repeatG,\n  integers,\n  zip\n};\n\nfunction* loop(g) {\n  var q = [],\n      next = 0;\n\n  var result;\n  while(true) {\n    var result = g.next();\n    if (!result.done) {\n      q.push(result.value);\n      yield result.value;\n    }\n    else break;\n  }\n\n  while (true) {\n    var result = g.next();\n    if (!result.done) {\n      q.push(result.value);\n      yield result.value;\n    }\n    else {\n      var value = q[next];\n      yield value;\n      next = (next + 1) % q.length;\n    }\n  }\n}\n\n\n// Interleave the results of a series of generators\n//\n// `generators`: a generator that produces the generators to interleave\nfunction* interleave(generators) {\n  var q = toArray(generators),\n      next = 0;\n\n  while (q.length > 0) {\n    next = next % q.length;\n    var generator = q[next],\n        result = generator.next();\n\n    if (result.done) {\n      remove(generator);\n      if (q.length == 0) return result.value;\n    }\n\n    next = next + 1;\n\n    yield result.value;\n  }\n\n  function remove(obj) {\n    var index = q.indexOf(obj);\n    if (index != -1) {\n      q.splice(index, 1);\n      if (next >= index) {\n        next = next == 0 ? q.length - 1 : next - 1;\n      }\n    }\n    else throw Error('Tried to remove object that is not in q', obj, q);\n  }\n}\n\n\nfunction* threadValue(generators, value) {\n  while (true) {\n    var result = generators.next(),\n        generator = result.value;\n\n\n  }\n}\n\nfunction mapGenerator(g, fn) {\n  var mapped = [];\n  while (true) {\n    var result = g.next();\n    mapped.push(fn(result.value));\n    if (result.done) return mapped;\n  }\n}\n\nfunction each(g, fn) {\n  while (true) {\n    var result = g.next();\n    fn(result.value);\n    if (result.done) return;\n  }\n}\n\nfunction* transform(generator, fn) {\n  while (true) {\n    var result = generator.next();\n        newValue = fn(result.value);\n\n    if (result.done) return newValue;\n    else yield newValue;\n  }\n}\n\nfunction* zip(generators) {\n  var array = toArray(generators);\n\n  var remaining = array.length;\n  while (remaining > 0) {\n    var product = [];\n    for (var i = 0; i < array.length; i++) {\n      var generator = array[i],\n          result = generator != null ? generator.next() : undefined;\n\n      if (result) {\n        product.push(result.value);\n        if (result.done) {\n          delete array[i];\n          remaining--;\n        }\n      }\n      else product.push(undefined);\n    }\n\n    if (remaining == 0) return product;\n    yield product;\n  }\n}\n\n// There are multiple ways to implement this function...\nfunction* repeatG(generator, count) {\n  var values = [];\n\n  yield function* () {\n    while(true) {\n      var result = generator.next();\n      console.log('got result', result);\n      values.push(result.value);\n\n      if (result.done) return result.value;\n      else yield result.value;\n    }\n  };\n\n  for (var i = 0; i < count - 1; i++) {\n    yield function* () {\n      for (var v = 0; v < values.length - 1; v++) yield values[v];\n      return values[v];\n    };\n  }\n}\n\nfunction* repeat(item, count) {\n  if (count == 0) throw new Error('why did you do that?');\n\n  for (var i = 0; i < count - 1; i++) yield item;\n  return item;\n}\n\nfunction toArray(generator) {\n  var array = [];\n\n  while (true) {\n    var result = generator.next();\n    array.push(result.value);\n    if (result.done) return array;\n  }\n}\n\nfunction* toGenerator(array) {\n  var length = array.length;\n\n  if (length == 0) throw Error('What should we do here?');\n\n  var i = 0;\n  for (i; i < length - 1; i++) yield array[i];\n  return array[i];\n}\n\nfunction* integers(start) {\n  var i = start || 0;\n  while (true) yield i++;\n}","var __moduleName = $__placeholder__0;","($__placeholder__0 = require($__placeholder__1), \n        $__placeholder__2 && $__placeholder__3.__esModule && $__placeholder__4 || {default: $__placeholder__5})"]}