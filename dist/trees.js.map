{"version":3,"file":"src/trees.js","sources":["src/trees.js","@traceur/generated/TemplateParser/2","@traceur/generated/TemplateParser/0","@traceur/generated/TemplateParser/3","@traceur/generated/TemplateParser/4"],"names":[],"mappings":"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","sourceRoot":"/home/blake/development/generator-trees","sourcesContent":["import '/home/blake/development/generator-trees/node_modules/grunt-traceur/node_modules/traceur/bin/traceur-runtime.js';var {toArray, toGenerator} = require('./generators');\n\n\nmodule.exports = {\n  preorder,\n  inorder,\n  postorder,\n  breadthFirst,\n  makeNode,\n  toNode,\n  asNode\n};\n\n\n\n//   R\n//  / \\\n// A  B\n//\n// : [R, A, B]\nfunction* preorder(node) {\n  if (!node) {\n    throw Error('inorder, no node!');\n  }\n\n  var result = node.next(),\n      value = result.value;\n\n  if (result.done) return value;\n\n  yield value;\n\n  while (true) {\n    var childResult = node.next();\n\n    var childGenerator = preorder(childResult.value);\n    while (true) {\n      var childGeneratorResult = childGenerator.next();\n\n      if (childGeneratorResult.done) {\n        if (childResult.done) return childGeneratorResult.value;\n\n        yield childGeneratorResult.value;\n        break;\n      }\n      else yield childGeneratorResult.value;\n    }\n  }\n}\n\n\n//   R\n//  / \\\n// A  B\n//\n// : [A, R, B]\nfunction* inorder(node) {\n  if (!node) {\n    console.log('undefined!');\n  }\n\n  var valueResult = node.next(),\n      value = valueResult.value;\n\n  if (valueResult.done) return value;\n\n  var yieldedValue = false;\n  while (true) {\n    var child = node.next();\n\n    var childGenerator = inorder(child.value);\n    while (true) {\n      var childGeneratorResult = childGenerator.next();\n\n      if (childGeneratorResult.done) {\n        if (yieldedValue && child.done) return childGeneratorResult.value;\n        yield childGeneratorResult.value;\n        break;\n      }\n      else {\n        yield childGeneratorResult.value;\n      }\n    }\n\n    if (!yieldedValue) {\n      if (child.done) return value;\n      else yield value;\n\n      yieldedValue = true;\n    }\n  }\n}\n\n\n//   R\n//  / \\\n// A  B\n//\n// : [A, B, R]\nfunction* postorder(node) {\n    if (!node) {\n    console.log('undefined!');\n  }\n\n  var valueResult = node.next(),\n      value = valueResult.value;\n\n  if (valueResult.done) return value;\n\n  while (true) {\n    var child = node.next();\n\n    var childGenerator = postorder(child.value);\n    while (true) {\n      var childGeneratorResult = childGenerator.next();\n\n      yield childGeneratorResult.value;\n\n      if (childGeneratorResult.done) break;\n    }\n\n    if (child.done) return value;\n  }\n}\n\n//   R\n//  / \\\n// A  B\n//\n// : [R, A, B]\n//\n// Emit self\n// foreach child:\n//    Emit\nfunction* breadthFirst(node, indent) {\n  indent = indent || '';\n  if (!node) {\n    console.log('node was undefined', node);\n  }\n\n  var valueResult = node.next(),\n      value = valueResult.value;\n\n  if (valueResult.done) return value;\n\n  yield value;\n\n  var queue = [{generator:node}];\n\n  while (queue.length != 0) {\n    var generator = queue.shift();\n\n    while (true) {\n      var result = generator.generator.next(),\n          childGenerator = result.value;\n\n      var firstResult = childGenerator.next();\n\n      if (firstResult.done) {\n        if (result.done && queue.length == 0) return firstResult.value;\n      }\n      else {\n        queue.push({parent: firstResult.value, generator: childGenerator});\n      }\n\n      yield firstResult.value;\n\n      if (result.done) break;\n    }\n  }\n}\n\nfunction* makeNode(value, children) {\n  if (children) {\n    yield value;\n\n    if (children.length) children = toGenerator(children); // really we want to just do this for arrays\n    if (typeof children == 'function') children = children();\n\n    while (true) {\n      var result = children.next();\n      if (result.done) return result.value;\n      else yield result.value;\n    }\n  }\n  else return value;\n}\n\nfunction toNode(generator) {\n  var ret = {};\n\n  var result = generator.next();\n  ret.value = result.value;\n  if (!result.done) ret.children = toArray(generator);\n  return ret;\n}\n\nfunction asNode(generator, ...args) {\n  return toNode(generator(...args));\n}\n\nfunction printGenerator(generator) {\n  while (true) {\n    var result = generator.next();\n\n    console.log('print', result.value);\n\n    if (result.done) break;\n  }\n}\n\n// Implementing and Traversing Trees Using Generators in JavaScript [ECMAScript 6]","var __moduleName = $__placeholder__0;","($__placeholder__0 = require($__placeholder__1), \n        $__placeholder__2 && $__placeholder__3.__esModule && $__placeholder__4 || {default: $__placeholder__5})","\n            for (var $__placeholder__0 = [], $__placeholder__1 = $__placeholder__2;\n                 $__placeholder__3 < arguments.length; $__placeholder__4++)\n              $__placeholder__5[$__placeholder__6 - $__placeholder__7] = arguments[$__placeholder__8];","$traceurRuntime.spread($__placeholder__0)"]}